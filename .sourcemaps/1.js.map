{"version":3,"sources":["../../src/pages/questionnaire1/questionnaire1.module.ts","../../src/pages/questionnaire1/questionnaire1.ts","../../src/pages/questionnaire1/keys.ts"],"names":[],"mappings":"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","file":"1.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { Questionnaire1Page } from './questionnaire1';\nimport { KeysPipe } from './keys';\n\n@NgModule({\n  declarations: [\n    Questionnaire1Page,\n    KeysPipe\n  ],\n  imports: [\n    IonicPageModule.forChild(Questionnaire1Page),\n  ],\n})\nexport class Questionnaire1PageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/questionnaire1/questionnaire1.module.ts","import { Component} from '@angular/core';\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\nimport { AngularFirestore } from 'angularfire2/firestore';\nimport { resolveDefinition } from '@angular/core/src/view/util';\n/**\n * Generated class for the Questionnaire1Page page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n\n@IonicPage()\n@Component({\n  selector: 'page-questionnaire1',\n  templateUrl: 'questionnaire1.html',\n})\nexport class Questionnaire1Page {\n    questionnaireForm: FormGroup;\n\n    public cars : any;\n    public models : any;\n    public engines: any;\n    public years: any;\n    brand: string;\n    model: string;\n    year: string;\n  constructor(public navCtrl: NavController, public navParams: NavParams,\n    fb: FormBuilder,\n    private readonly afs: AngularFirestore) {\n      this.questionnaireForm = fb.group({\n        car_name: ['',Validators.required],\n        brand: ['',Validators.required],\n        model: ['',Validators.required],\n        model_year: ['',Validators.required],\n        model_color: ['',Validators.required],\n        model_engine: ['',Validators.required],\n        model_gear: ['',Validators.required],\n        model_country: ['',Validators.required],\n        model_license: ['',Validators.required]\n  });\n  }\n\n  async ionViewDidLoad() {\n    console.log('ionViewDidLoad Questionnaire1Page');\n    await this.readBrands().then(out=>{\n      this.cars=out;});\n  }\n\n  getModel(brand: string): void{\n    this.models=this.cars[brand].map(x=>x.model);\n    this.brand=brand;\n  }\n\n  getYear(model: string): void{\n    this.model=model;\n    this.years=this.cars[this.brand].filter(x=>x.model==model)[0].engine;\n  }\n\n  getEngine(year: string): void{\n    this.year=year;\n    let result=this.cars[this.brand].filter(x=>x.model==this.model)[0].engine[year];\n    typeof result === 'object' ? this.engines=result : this.engines=[result]\n  }\n  readBrands(): Promise<any>{\n      return new Promise((resolve, reject) => {\n    var brandCollect = this.afs.collection('CarBrands');\n  var getDoc = brandCollect.ref.get()\n    .then(docs => {\n      let obj : any = {};\n      docs.forEach(doc => {\n        obj[doc.id]=[]\n        doc.data().Models.forEach(model=>{\n          this.readModels(doc.id,model).then(out=>{\n            obj[doc.id].push({model, engine: out});\n          })\n        })\n      });\n      resolve(obj);\n    })\n    .catch(err => {\n      reject(err);\n    });\n  });\n\n}\n\nreadModels(brand: string, model: string): Promise<any>{\n  return new Promise((resolve, reject) => {\n    var brandCollect = this.afs.collection('CarBrands');\n  brandCollect.doc(brand).collection(model).ref.get().then(m_docs =>{\n    let obj : any = {};\n    m_docs.forEach(doc => {\n      obj=doc.data();\n    })\n    resolve(obj);\n  }).catch(err => {\n    reject(err);\n  });;\n});\n}\n  goToQuestionnaire2() {\n      let data = this.questionnaireForm.value;\n      this.navCtrl.push('Questionnaire2Page',data);\n  }\n\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/questionnaire1/questionnaire1.ts","import { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({name: 'keys'})\nexport class KeysPipe implements PipeTransform\n{\n    transform(value:any, args:string[]): any {\n        let keys:any[] = [];\n        for (let key in value) {\n            keys.push({key: key, value: value[key]});\n        }\n        return keys;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/questionnaire1/keys.ts"],"sourceRoot":""}